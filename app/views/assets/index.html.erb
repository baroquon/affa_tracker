<h1>Baseball JSON Dealy</h1>
<table class="src">
<tr><th>Team Abbv</th><th>Team Name</th></tr>
<tr><td><div id="Abbv">Chi Cubs</div></td>
<td><div id="team_id">Cubs</div></td></tr>
</table>

<select id="which_team">
<option value=0>Arizona</option>
<option value=1>Atlanta</option>
<option value=2>Baltimore</option>
</select>
<button type="button" onclick="loadJSON()">Update Details </button>

<script>
function loadJSON()
{
   var data_file = "/teams.json";
   var http_request = new XMLHttpRequest();
   http_request = new XMLHttpRequest();
   http_request.onreadystatechange  = function(){
      if (http_request.readyState == 4  )
      {
	// Javascript function JSON.parse to parse JSON data
	var jsonObj = JSON.parse(http_request.responseText);
        var teamSelector = document.getElementById("which_team").value;
	// jsonObj variable now contains the data structure and can
	// be accessed as jsonObj.name and jsonObj.country.
	document.getElementById("Abbv").innerHTML =  jsonObj[teamSelector].abbreviation;
	document.getElementById("team_id").innerHTML = jsonObj[teamSelector].team_id;
      }
   }
   http_request.open("GET", data_file, true);
   http_request.send();
}
</script>
